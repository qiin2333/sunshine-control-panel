# 工具栏浮窗 - 快速开始

## 🎯 功能概述

已成功创建了一个通用的工具栏小浮窗，具备以下特性：

✅ **位置**: 右下角浮窗  
✅ **外观**: 纯图片无边框窗口（紫色渐变圆形图标）  
✅ **交互**: 点击唤出工具选择菜单  
✅ **功能**: 可退出、可置顶、可拖动  

## 🚀 立即使用

### 1️⃣ 编译构建

```bash
# 进入项目目录
cd src_assets/common/sunshine-control-panel

# 安装依赖（如果还未安装）
npm install

# 构建前端
npm run build:renderer

# 构建并运行应用
npm run dev
```

### 2️⃣ 打开工具栏

运行应用后，有两种方式打开工具栏：

**方式A: 系统托盘**
- 右键点击系统托盘中的 Sunshine 图标
- 选择 "**显示工具栏**" 菜单项

**方式B: 代码调用**
```javascript
import { invoke } from '@tauri-apps/api/core';
await invoke('create_toolbar_window');
```

### 3️⃣ 使用工具栏

- **点击图标** → 展开/收起工具菜单
- **拖动窗口** → 在背景区域拖动可移动位置
- **选择工具** → 点击菜单项打开对应工具
- **窗口置顶** → 从菜单中切换置顶状态
- **关闭浮窗** → 点击"关闭工具栏"

## 📦 已创建的文件

```
✅ src/renderer/toolbar/
   ├── index.html          # 入口 HTML
   ├── main.js             # Vue 应用入口
   ├── ToolbarApp.vue      # 主组件
   └── README.md           # 详细说明

✅ src-tauri/src/main.rs    # 后端逻辑
   └── 新增函数:
       - create_toolbar_window()      # 创建工具栏窗口
       - open_tool_window()           # 打开工具窗口

✅ vite.config.js           # 构建配置
   └── 新增 toolbar 入口

✅ 文档:
   ├── TOOLBAR_GUIDE.md         # 完整使用指南
   └── TOOLBAR_QUICKSTART.md    # 快速开始（本文档）
```

## 🎨 界面预览

**工具栏图标**:
- 64x64 像素圆形
- 紫色渐变背景 (#667eea → #764ba2)
- 悬停时放大并旋转
- 带阴影效果

**工具菜单**:
- 半透明深色背景
- 毛玻璃模糊效果
- 包含 5 个菜单项:
  1. 控制面板
  2. 虚拟显示器 (VDD)
  3. 关于
  4. 窗口置顶/取消置顶
  5. 关闭工具栏

## 🔧 可用的工具

| 菜单项 | 功能 |
|--------|------|
| 控制面板 | 显示并聚焦主窗口 |
| 虚拟显示器 (VDD) | 打开 VDD 设置页面 |
| 关于 | 显示关于对话框 |
| 窗口置顶 | 切换工具栏置顶状态 |
| 关闭工具栏 | 关闭工具栏浮窗 |

## ⚡ 技术特性

- **框架**: Vue 3 + Tauri 2
- **构建**: Vite
- **窗口**: 透明无边框
- **置顶**: 支持
- **拖动**: 支持
- **任务栏**: 不显示

## 📝 下一步

1. **运行项目**: 执行 `npm run dev` 测试功能
2. **查看详细文档**: 阅读 `TOOLBAR_GUIDE.md`
3. **自定义样式**: 编辑 `ToolbarApp.vue`
4. **添加工具**: 参考指南添加新的工具选项

## 🐛 常见问题

**Q: 工具栏不显示？**  
A: 检查构建是否成功，确认 `dist/toolbar/` 目录存在

**Q: 无法点击图标？**  
A: 检查 CSS 中 `-webkit-app-region` 设置

**Q: 位置不对？**  
A: 在 `main.rs` 的 `create_toolbar_window` 中调整位置计算

**Q: 如何修改图标？**  
A: 编辑 `ToolbarApp.vue` 中的 SVG 图标或更换为图片

## ✅ 完成状态

- ✅ 前端页面和组件
- ✅ 后端窗口管理
- ✅ 托盘菜单集成
- ✅ 工具打开功能
- ✅ 置顶功能
- ✅ 拖动功能
- ✅ 文档和指南

---

**开始使用吧！** 🎉

如有问题，请参考 `TOOLBAR_GUIDE.md` 获取详细信息。

