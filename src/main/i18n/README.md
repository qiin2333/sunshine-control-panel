# Electron èœå•å›½é™…åŒ–å®ç°

è¿™ä¸ªå›½é™…åŒ–ç³»ç»Ÿä¸º Sunshine Control Panel çš„ Electron èœå•æä¾›äº†å¤šè¯­è¨€æ”¯æŒï¼Œæ”¯æŒä¸­æ–‡ã€è‹±æ–‡ã€æ—¥æ–‡ã€éŸ©æ–‡ã€æ³•æ–‡å’Œå¾·æ–‡ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸŒ æ”¯æŒ 6 ç§è¯­è¨€ï¼šä¸­æ–‡ã€è‹±æ–‡ã€æ—¥æ–‡ã€éŸ©æ–‡ã€æ³•æ–‡ã€å¾·æ–‡
- ğŸ”„ åŠ¨æ€è¯­è¨€åˆ‡æ¢
- ğŸ’¾ è¯­è¨€è®¾ç½®æŒä¹…åŒ–å­˜å‚¨
- ğŸ¯ è‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿè¯­è¨€
- ğŸ“ æ”¯æŒå‚æ•°åŒ–ç¿»è¯‘
- ğŸ”§ æ˜“äºæ‰©å±•æ–°è¯­è¨€
- ğŸ›ï¸ è¯­è¨€èœå•ä½œä¸ºä¸€çº§èœå•ï¼Œæ–¹ä¾¿ç”¨æˆ·è®¿é—®
- ğŸ“Š å…³äºèœå•æ˜¾ç¤ºçœŸå®çš„Sunshineç‰ˆæœ¬å·

## æ–‡ä»¶ç»“æ„

```
src/main/i18n/
â”œâ”€â”€ index.js                 # å›½é™…åŒ–æ ¸å¿ƒåŠŸèƒ½
â”œâ”€â”€ languageSwitcher.js      # è¯­è¨€åˆ‡æ¢å™¨
â”œâ”€â”€ test.js                  # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ README.md               # è¯´æ˜æ–‡æ¡£
â””â”€â”€ locales/                # è¯­è¨€åŒ…ç›®å½•
    â”œâ”€â”€ zh-CN.json          # ç®€ä½“ä¸­æ–‡
    â”œâ”€â”€ en-US.json          # è‹±æ–‡
    â”œâ”€â”€ ja-JP.json          # æ—¥æ–‡
    â”œâ”€â”€ ko-KR.json          # éŸ©æ–‡
    â”œâ”€â”€ fr-FR.json          # æ³•æ–‡
    â””â”€â”€ de-DE.json          # å¾·æ–‡
```

## ä½¿ç”¨æ–¹æ³•

### 1. åŸºæœ¬ç¿»è¯‘

```javascript
import { t } from './i18n/index.js'

// ç®€å•ç¿»è¯‘
const windowLabel = t('menu.window')  // "çª—å£" æˆ– "Window"

// å¸¦å‚æ•°çš„ç¿»è¯‘
const message = t('dialog.uninstallComplete', { code: 0 })  // "è™šæ‹Ÿæ˜¾ç¤ºå™¨å¸è½½å®Œæˆ: 0"
```

### 2. è¯­è¨€åˆ‡æ¢

```javascript
import { setLanguage, getCurrentLanguage } from './i18n/index.js'

// è®¾ç½®è¯­è¨€
setLanguage('en-US')

// è·å–å½“å‰è¯­è¨€
const currentLang = getCurrentLanguage()
```

### 3. èœå•é›†æˆ

```javascript
import { setupApplicationMenu } from './menu.js'

// è®¾ç½®åº”ç”¨èœå•ï¼ˆè‡ªåŠ¨åˆå§‹åŒ–å›½é™…åŒ–ï¼‰
setupApplicationMenu(mainWindow)
```

### 4. èœå•ç»“æ„

è¯­è¨€èœå•ç°åœ¨ä½œä¸ºä¸€çº§èœå•æ˜¾ç¤ºï¼Œèœå•ç»“æ„å¦‚ä¸‹ï¼š

```
çª—å£ (Window)
ç®¡ç† (Management)  
ä½¿ç”¨æ•™ç¨‹ (Tutorial)
å°å·¥å…· (Tools)
è¯­è¨€ (Language) â† æ–°å¢çš„ä¸€çº§èœå•
  â”œâ”€â”€ ç®€ä½“ä¸­æ–‡
  â”œâ”€â”€ English
  â”œâ”€â”€ æ—¥æœ¬èª
  â”œâ”€â”€ í•œêµ­ì–´
  â”œâ”€â”€ FranÃ§ais
  â””â”€â”€ Deutsch
å…³äº (About) â† æ˜¾ç¤ºçœŸå®çš„Sunshineç‰ˆæœ¬å·
```

### 5. Sunshineç‰ˆæœ¬è·å–

```javascript
import { getSunshineVersion } from './utils.js'

// è·å–Sunshineç‰ˆæœ¬å·
const version = await getSunshineVersion()
console.log('Sunshineç‰ˆæœ¬:', version)  // ä¾‹å¦‚: "0.21.0"
```

## è¯­è¨€åŒ…æ ¼å¼

è¯­è¨€åŒ…ä½¿ç”¨ JSON æ ¼å¼ï¼Œæ”¯æŒåµŒå¥—ç»“æ„ï¼š

```json
{
  "menu": {
    "window": "çª—å£",
    "management": "ç®¡ç†"
  },
  "submenu": {
    "minimize": "æœ€å°åŒ–",
    "close": "å…³é—­"
  },
  "dialog": {
    "confirmUninstall": "ç¡®è®¤å¸è½½? å¸è½½åå¯é€šè¿‡é‡æ–°å®‰è£…åŸºåœ°ç‰ˆsunshineæ¢å¤ã€‚",
    "uninstallComplete": "è™šæ‹Ÿæ˜¾ç¤ºå™¨å¸è½½å®Œæˆ: {code}"
  },
  "about": {
    "copyright": "Copyright (c) 2023 Qiin",
    "sunshineVersion": "Sunshine ç‰ˆæœ¬"
  }
}
```

## æ·»åŠ æ–°è¯­è¨€

1. åœ¨ `locales/` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„è¯­è¨€åŒ…æ–‡ä»¶ï¼Œå¦‚ `es-ES.json`
2. åœ¨ `index.js` çš„ `SUPPORTED_LANGUAGES` æ•°ç»„ä¸­æ·»åŠ æ–°è¯­è¨€
3. åœ¨ `getSystemLanguage()` å‡½æ•°ä¸­æ·»åŠ è¯­è¨€æ˜ å°„

## API å‚è€ƒ

### æ ¸å¿ƒå‡½æ•°

- `t(key, params, languageCode)` - ç¿»è¯‘å‡½æ•°
- `getCurrentLanguage()` - è·å–å½“å‰è¯­è¨€
- `setLanguage(languageCode)` - è®¾ç½®è¯­è¨€
- `getSystemLanguage()` - è·å–ç³»ç»Ÿè¯­è¨€
- `loadTranslations(languageCode)` - åŠ è½½è¯­è¨€åŒ…
- `initI18n()` - åˆå§‹åŒ–å›½é™…åŒ–

### è¯­è¨€åˆ‡æ¢å™¨

- `createLanguageMenu(mainWindow)` - åˆ›å»ºè¯­è¨€ä¸€çº§èœå•
- `createLanguageMenuItems(mainWindow)` - åˆ›å»ºè¯­è¨€èœå•é¡¹åˆ—è¡¨
- `addLanguageSwitcherToMenu(menuTemplate, mainWindow)` - æ·»åŠ è¯­è¨€åˆ‡æ¢åˆ°èœå•

### å·¥å…·å‡½æ•°

- `getSunshineVersion()` - è·å–Sunshineç‰ˆæœ¬å·ï¼ˆå¼‚æ­¥ï¼‰

## ç‰ˆæœ¬è·å–åŠŸèƒ½

å…³äºèœå•ç°åœ¨ä¼šæ˜¾ç¤ºçœŸå®çš„Sunshineç‰ˆæœ¬å·ï¼Œè€Œä¸æ˜¯Electronç‰ˆæœ¬ã€‚ç‰ˆæœ¬è·å–åŠŸèƒ½ï¼š

- é€šè¿‡æ‰§è¡Œ `sunshine.exe --version` å‘½ä»¤è·å–ç‰ˆæœ¬
- æ”¯æŒå¤šç§ç‰ˆæœ¬å·æ ¼å¼çš„è§£æ
- åŒ…å«é”™è¯¯å¤„ç†å’Œè¶…æ—¶æœºåˆ¶
- å¦‚æœè·å–å¤±è´¥ï¼Œæ˜¾ç¤º "Unknown"

## æ³¨æ„äº‹é¡¹

1. è¯­è¨€è®¾ç½®ä¼šä¿å­˜åœ¨ç”¨æˆ·æ•°æ®ç›®å½•çš„ `language.json` æ–‡ä»¶ä¸­
2. å¦‚æœæ‰¾ä¸åˆ°æŒ‡å®šè¯­è¨€çš„ç¿»è¯‘ï¼Œä¼šè‡ªåŠ¨å›é€€åˆ°é»˜è®¤è¯­è¨€ï¼ˆä¸­æ–‡ï¼‰
3. è¯­è¨€åˆ‡æ¢åéœ€è¦é‡å¯åº”ç”¨ç¨‹åºæ‰èƒ½å®Œå…¨ç”Ÿæ•ˆ
4. æ”¯æŒå‚æ•°åŒ–ç¿»è¯‘ï¼Œä½¿ç”¨ `{å‚æ•°å}` æ ¼å¼
5. Sunshineç‰ˆæœ¬è·å–æ˜¯å¼‚æ­¥æ“ä½œï¼Œéœ€è¦ç­‰å¾…ç»“æœ

## æ‰©å±•å»ºè®®

- å¯ä»¥æ·»åŠ æ›´å¤šè¯­è¨€æ”¯æŒ
- å¯ä»¥å®ç°å®æ—¶è¯­è¨€åˆ‡æ¢ï¼ˆæ— éœ€é‡å¯ï¼‰
- å¯ä»¥æ·»åŠ è¯­è¨€åŒ…çƒ­é‡è½½åŠŸèƒ½
- å¯ä»¥é›†æˆåˆ°æ¸²æŸ“è¿›ç¨‹çš„ Vue ç»„ä»¶ä¸­
- å¯ä»¥æ·»åŠ ç‰ˆæœ¬æ£€æŸ¥åŠŸèƒ½ï¼Œæç¤ºç”¨æˆ·æ›´æ–°
